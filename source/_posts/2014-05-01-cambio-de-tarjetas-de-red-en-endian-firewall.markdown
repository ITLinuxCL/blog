---
layout: post
title: "Cambio de tarjetas de red en Endian Firewall"
date: 2014-05-01 16:34
comments: true
keywords: linux, endian firewall, hardware
categories: [linux, admin, endian firewall]
description: Guía para configurar Endian Firewall cuando se cambia el Hardware de las tarjetas de red o cambias el equipo y recuperas un respaldo
author: Patricio Bruna
---
¿Recuperaste un respaldo de Endian en otra máquina y ahora nada funciona?

Entonces te topaste con el [Bug 3311](http://bugs.endian.com/view.php?id=3311) cuyo problema es que el respaldo de Endian guarda el archivo ```/etc/businfotab``` y cuando ejecutas una recuperación en un equipo nuevo sobre-escribe este mismo archivo con los datos del equipo antiguo.

```bash
root@gorgory:~ # cat /etc/businfotab
# Generated by ethconfig
eth0	00:12.0
eth1	00:13.0
eth2	00:14.0
root@gorgory:~ #
```

Como ves en el cuadro anterior, el contenido del archivo indica las posiciones de las tarjetas de red en el Bus PCI. Si recuperas el respaldo y reinicias el equipo puede que tu nuevo archivo se vea así:

```bash
root@gorgory:~ # cat /etc/businfotab
# Generated by ethconfig
eth0	00:12.0
eth1	00:13.0
eth2	00:14.0
eth3	00:15.0
eth4	00:16.0
eth5	00:17.0
root@gorgory:~ #
```

#### ¿Cómo lo soluciono?
La solución al problema es fácil, lo único que debes hacer es borrar las líneas ```eth0```, ```eth1``` y ```eth2``` que representan las tarjetas del equipo antiguo y luego reemplazar las líneas que quedan por las tarjetas correspondientes al equipo nuevo. El archivo debería quedar más o menos así:

```bash
root@gorgory:~ # cat /etc/businfotab
# Generated by ethconfig
eth0	00:15.0
eth1	00:16.0
eth2	00:17.0
root@gorgory:~ #
```

También te recomendamos que excluyas del respaldo el archivo ```/etc/businfotab```, esto lo haces editando el archivo ```/var/efw/backup/exclude.system``` y agregando la línea del archivo, por ejemplo:

```bash
etc/businfotab
```

#### Referencias
* [http://efwsupport.com/index.php?topic=1872.0](http://efwsupport.com/index.php?topic=1872.0)
* [http://bugs.endian.com/view.php?id=3311](http://bugs.endian.com/view.php?id=3311)